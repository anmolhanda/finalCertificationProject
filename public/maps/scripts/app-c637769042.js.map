{"version":3,"sources":["scripts/app-c637769042.js"],"names":["angular","module","MainService","$http","$q","SERVICE_BASE_URL","_this","this","getUsers","deferred","defer","method","url","headers","Content-Type","success","data","statusCode","resolve","error","reject","promise","addUser","user","updateUser","id","removeUser","$inject","service","MainController","$log","toastr","vm","employee","then","response","employees","users","forEach","itr","age","Date","getFullYear","dob","err","console","log","init","addEmployee","editEmployee","copy","editMode","updateEmployee","payload","name","email","department","gender","_id","removeEmployee","controller","runBlock","$state","go","run","routerConfig","$stateProvider","$urlRouterProvider","state","templateUrl","controllerAs","otherwise","config","toastrConfig","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","constant","$templateCache","put"],"mappings":"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","file":"scripts/app-c637769042.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('gulpDemo', [\n      'ui.router','toastr'\n    ]);\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('gulpDemo')\n    .service('MainService', MainService);\n\n  /** @ngInject */\n  function MainService($http,$q,SERVICE_BASE_URL) {\n    var _this = this;\n\n    _this.getUsers = function() {\n      // Creating a deferred object\n      var deferred = $q.defer();\n      $http({\n        method: 'GET',\n        url: SERVICE_BASE_URL + 'employee',\n        headers: {\n          'Content-Type': \"application/json\"\n        }\n      }).success(function(data,statusCode) {\n        if(!data){\n          var data={statusCode:statusCode};\n        }\n        data.statusCode=statusCode;\n        deferred.resolve(data);\n      }).error(function() {\n        deferred.reject(\"An error occured while fetching users\");\n      });\n      //Returning the promise object\n      return deferred.promise;\n    };\n        _this.addUser = function(user) {\n      // Creating a deferred object\n      var deferred = $q.defer();\n      $http({\n        method: 'POST',\n        url: SERVICE_BASE_URL + 'employee',\n        headers: {\n          'Content-Type': \"application/json\"\n        },\n        data:user\n      }).success(function(data,statusCode) {\n        if(!data){\n          var data={statusCode:statusCode};\n        }\n        data.statusCode=statusCode;\n        deferred.resolve(data);\n      }).error(function() {\n        deferred.reject(\"An error occured while fetching users\");\n      });\n      //Returning the promise object\n      return deferred.promise;\n    };\n        _this.updateUser = function(id,user) {\n      // Creating a deferred object\n      var deferred = $q.defer();\n      $http({\n        method: 'PUT',\n        url: SERVICE_BASE_URL + 'employee/'+id,\n        headers: {\n          'Content-Type': \"application/json\"\n        },\n        data:user\n      }).success(function(data,statusCode) {\n        if(!data){\n          var data={statusCode:statusCode};\n        }\n        data.statusCode=statusCode;\n        deferred.resolve(data);\n      }).error(function() {\n        deferred.reject(\"An error occured while fetching users\");\n      });\n      //Returning the promise object\n      return deferred.promise;\n    };\n        _this.removeUser = function(id) {\n      // Creating a deferred object\n      var deferred = $q.defer();\n      $http({\n        method: 'DELETE',\n        url: SERVICE_BASE_URL + 'employee/'+id,\n        headers: {\n          'Content-Type': \"application/json\"\n        }\n      }).success(function(data,statusCode) {\n        if(!data){\n          var data={statusCode:statusCode};\n        }\n        data.statusCode=statusCode;\n        deferred.resolve(data);\n      }).error(function() {\n        deferred.reject(\"An error occured while fetching users\");\n      });\n      //Returning the promise object\n      return deferred.promise;\n    };\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('gulpDemo')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(MainService, $log, toastr) {\n    var vm = this;\n    vm.employee = {};\n    vm.getUsers = function () {\n      MainService.getUsers().then(function (response) {\n        vm.employees = response.data.users;\n        angular.forEach(vm.employees, function (itr) {\n          itr.age = new Date().getFullYear() - new Date(itr.dob).getFullYear();\n        });\n      }, function (err) {\n        console.log(\"user fetching failure!!\");\n      })\n\n    };\n\n    vm.init = function () {\n      vm.getUsers();\n    };\n    vm.addEmployee = function () {\n      $log.log(\"employee\", vm.employee);\n      MainService.addUser(vm.employee).then(function (data) {\n        $log.log(\"data\", data);\n        vm.employee = {};\n        vm.init();\n      },function(err){\n         toastr.error('sorry either the user details are incomplete or the user with same email id is already present!!!',\n                    'Error');\n      });\n\n    };\n    vm.editEmployee = function (employee) {\n      vm.employee = angular.copy(employee);\n      vm.editMode=true;\n    };\n    vm.updateEmployee = function () {\n\n      var payload = {\n        \"name\": vm.employee.name,\n        \"email\": vm.employee.email,\n        \"dob\": vm.employee.dob,\n        \"department\": vm.employee.department,\n        \"gender\": vm.employee.gender\n\n      }\n      MainService.updateUser(vm.employee._id, payload).then(function (data) {\n        vm.employee = {};\n        vm.editMode=false;\n        vm.init();\n      });\n    };\n    vm.removeEmployee = function (id) {\n      MainService.removeUser(id).then(function (data) {\n        vm.editMode=false;\n         vm.employee = {};\n        vm.init();\n      });\n    };\n\n    vm.init();\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('gulpDemo')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($state) {\n    $state.go('main');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('gulpDemo')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('main', {\n        url: '/',\n        templateUrl: 'app/modules/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'mainCtrl'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\r\n  'use strict';\r\n  angular\r\n    .module('gulpDemo')\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config(toastrConfig) {\r\n    // Set options third-party lib\r\n    toastrConfig.allowHtml = true;\r\n    toastrConfig.timeOut = 1000;\r\n    toastrConfig.positionClass = 'toast-top-right';\r\n    toastrConfig.preventDuplicates = false;\r\n    toastrConfig.progressBar = false;\r\n  }\r\n\r\n})();\r\n\r\n \r\n\r\n\n(function () {\r\n    'use strict';\r\n    angular\r\n        .module('gulpDemo')\r\n        .constant(\r\n            \"SERVICE_BASE_URL\",'/employee-services/');\r\n})();\r\n\r\n\r\n\r\n\nangular.module(\"gulpDemo\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/modules/main/main.html\",\"<div class=\\\"container-fluid\\\" style=\\\"background:#eaedf2 ;\\\"><div class=\\\"jumbotron row\\\" style=\\\"background:white;\\\"><div class=\\\"col-lg-4\\\"><img src=\\\"http://technuter.com/wp-content/uploads/2014/11/Edureka-Logo1.jpg\\\" style=\\\"max-width:150px;\\\"></div><div class=\\\"col-lg-8\\\"><h2>MEAN Application - Employee Directory App</h2></div></div><form><table class=\\\"table\\\"><thead><tr><td>Name</td><td>Email</td><td>Date of Birth</td><td>Department</td><td>Gender</td><td>Age</td></tr></thead><tbody><tr><td><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"mainCtrl.employee.name\\\" required=\\\"\\\" placeholder=\\\"Name\\\"></td><td><input type=\\\"email\\\" ng-model=\\\"mainCtrl.employee.email\\\" required=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"abc@xyz.com\\\"></td><td><input type=\\\"text\\\" ng-model=\\\"mainCtrl.employee.dob\\\" id=\\\"datepicker\\\" class=\\\"form-control\\\" required=\\\"\\\" placeholder=\\\"YYYY-MM-DD\\\"></td><td><input type=\\\"text\\\" ng-model=\\\"mainCtrl.employee.department\\\" required=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"Department\\\"></td><td><input type=\\\"text\\\" ng-model=\\\"mainCtrl.employee.gender\\\" required=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"Gender\\\"></td><td><input type=\\\"number\\\" ng-model=\\\"mainCtrl.employee.age\\\" disabled=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"Age\\\"></td><td><button type=\\\"submit\\\" class=\\\"btn btn-success btn-md\\\" ng-click=\\\"mainCtrl.addEmployee()\\\" ng-disabled=\\\"mainCtrl.editMode\\\">Add Employee</button></td><td><button class=\\\"btn btn-success btn-md\\\" ng-click=\\\"mainCtrl.updateEmployee()\\\">Update Employee</button></td></tr><tr ng-repeat=\\\"employee in mainCtrl.employees\\\"><td>{{employee.name}}</td><td>{{employee.email}}</td><td>{{employee.dob | date:\\'yyyy-MM-dd\\'}}</td><td>{{employee.department}}</td><td>{{employee.gender}}</td><td>{{employee.age}}</td><td><button class=\\\"btn btn-danger btn-sm\\\" ng-click=\\\"mainCtrl.removeEmployee(employee._id)\\\">Delete</button>&nbsp;&nbsp; <button class=\\\"btn btn-primary btn-sm\\\" ng-click=\\\"mainCtrl.editEmployee(employee)\\\">Edit</button></td></tr></tbody></table></form></div><script>\\n  $(function() {\\n    var datepicker=$(\\\"#datepicker\\\").datepicker(\\n                    {changeMonth:true,changeYear:true,maxDate:\\\"-1M -1D -1Y\\\",dateFormat:\\\"yy-mm-dd\\\"}\\n                                              );\\n    $(\\\"#datepicker\\\").bind(\\\"keydown\\\", function (event) {\\n       event.preventDefault();\\n     });\\n  });\\n  </script>\");}]);"],"sourceRoot":"/source/"}