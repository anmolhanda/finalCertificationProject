!function(){"use strict";angular.module("gulpDemo",["ui.router","toastr"])}(),function(){"use strict";function e(e,t,o){var n=this;n.getUsers=function(){var n=t.defer();return e({method:"GET",url:o+"employee",headers:{"Content-Type":"application/json"}}).success(function(e,t){if(!e)var e={statusCode:t};e.statusCode=t,n.resolve(e)}).error(function(){n.reject("An error occured while fetching users")}),n.promise},n.addUser=function(n){var r=t.defer();return e({method:"POST",url:o+"employee",headers:{"Content-Type":"application/json"},data:n}).success(function(e,t){if(!e)var e={statusCode:t};e.statusCode=t,r.resolve(e)}).error(function(){r.reject("An error occured while fetching users")}),r.promise},n.updateUser=function(n,r){var l=t.defer();return e({method:"PUT",url:o+"employee/"+n,headers:{"Content-Type":"application/json"},data:r}).success(function(e,t){if(!e)var e={statusCode:t};e.statusCode=t,l.resolve(e)}).error(function(){l.reject("An error occured while fetching users")}),l.promise},n.removeUser=function(n){var r=t.defer();return e({method:"DELETE",url:o+"employee/"+n,headers:{"Content-Type":"application/json"}}).success(function(e,t){if(!e)var e={statusCode:t};e.statusCode=t,r.resolve(e)}).error(function(){r.reject("An error occured while fetching users")}),r.promise}}e.$inject=["$http","$q","SERVICE_BASE_URL"],angular.module("gulpDemo").service("MainService",e)}(),function(){"use strict";function e(e,t,o){var n=this;n.employee={},n.getUsers=function(){e.getUsers().then(function(e){n.employees=e.data.users,angular.forEach(n.employees,function(e){e.age=(new Date).getFullYear()-new Date(e.dob).getFullYear()})},function(e){console.log("user fetching failure!!")})},n.init=function(){n.getUsers()},n.addEmployee=function(){t.log("employee",n.employee),e.addUser(n.employee).then(function(e){t.log("data",e),n.employee={},n.init()},function(e){o.error("sorry either the user details are incomplete or the user with same email id is already present!!!","Error")})},n.editEmployee=function(e){n.employee=angular.copy(e),n.editMode=!0},n.updateEmployee=function(){var t={name:n.employee.name,email:n.employee.email,dob:n.employee.dob,department:n.employee.department,gender:n.employee.gender};e.updateUser(n.employee._id,t).then(function(e){n.employee={},n.editMode=!1,n.init()})},n.removeEmployee=function(t){e.removeUser(t).then(function(e){n.editMode=!1,n.employee={},n.init()})},n.init()}e.$inject=["MainService","$log","toastr"],angular.module("gulpDemo").controller("MainController",e)}(),function(){"use strict";function e(e){e.go("main")}e.$inject=["$state"],angular.module("gulpDemo").run(e)}(),function(){"use strict";function e(e,t){e.state("main",{url:"/",templateUrl:"app/modules/main/main.html",controller:"MainController",controllerAs:"mainCtrl"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("gulpDemo").config(e)}(),function(){"use strict";function e(e){e.allowHtml=!0,e.timeOut=1e3,e.positionClass="toast-top-right",e.preventDuplicates=!1,e.progressBar=!1}e.$inject=["toastrConfig"],angular.module("gulpDemo").config(e)}(),function(){"use strict";angular.module("gulpDemo").constant("SERVICE_BASE_URL","/employee-services/")}(),angular.module("gulpDemo").run(["$templateCache",function(e){e.put("app/modules/main/main.html",'<div class="container-fluid" style="background:#eaedf2 ;"><div class="jumbotron row" style="background:white;"><div class="col-lg-4"><img src="http://technuter.com/wp-content/uploads/2014/11/Edureka-Logo1.jpg" style="max-width:150px;"></div><div class="col-lg-8"><h2>MEAN Application - Employee Directory App</h2></div></div><form><table class="table"><thead><tr><td>Name</td><td>Email</td><td>Date of Birth</td><td>Department</td><td>Gender</td><td>Age</td></tr></thead><tbody><tr><td><input type="text" class="form-control" ng-model="mainCtrl.employee.name" required="" placeholder="Name"></td><td><input type="email" ng-model="mainCtrl.employee.email" required="" class="form-control" placeholder="abc@xyz.com"></td><td><input type="text" ng-model="mainCtrl.employee.dob" id="datepicker" class="form-control" required="" placeholder="YYYY-MM-DD"></td><td><input type="text" ng-model="mainCtrl.employee.department" required="" class="form-control" placeholder="Department"></td><td><input type="text" ng-model="mainCtrl.employee.gender" required="" class="form-control" placeholder="Gender"></td><td><input type="number" ng-model="mainCtrl.employee.age" disabled="" class="form-control" placeholder="Age"></td><td><button type="submit" class="btn btn-success btn-md" ng-click="mainCtrl.addEmployee()" ng-disabled="mainCtrl.editMode">Add Employee</button></td><td><button class="btn btn-success btn-md" ng-click="mainCtrl.updateEmployee()">Update Employee</button></td></tr><tr ng-repeat="employee in mainCtrl.employees"><td>{{employee.name}}</td><td>{{employee.email}}</td><td>{{employee.dob | date:\'yyyy-MM-dd\'}}</td><td>{{employee.department}}</td><td>{{employee.gender}}</td><td>{{employee.age}}</td><td><button class="btn btn-danger btn-sm" ng-click="mainCtrl.removeEmployee(employee._id)">Delete</button>&nbsp;&nbsp; <button class="btn btn-primary btn-sm" ng-click="mainCtrl.editEmployee(employee)">Edit</button></td></tr></tbody></table></form></div><script>\n  $(function() {\n    var datepicker=$("#datepicker").datepicker(\n                    {changeMonth:true,changeYear:true,maxDate:"-1M -1D -1Y",dateFormat:"yy-mm-dd"}\n                                              );\n    $("#datepicker").bind("keydown", function (event) {\n       event.preventDefault();\n     });\n  });\n  </script>')}]);
//# sourceMappingURL=../maps/scripts/app-c637769042.js.map
